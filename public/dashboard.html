<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>International Airlines - Dashboard</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/dashboard.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body class="dashboard-page">
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-brand">
            <i class="fas fa-plane"></i>
            <span>International Airlines</span>
        </div>
        <div class="nav-menu">
            <a href="#dashboard" class="nav-link active" onclick="showSection('dashboard')">
                <i class="fas fa-tachometer-alt"></i> Dashboard
            </a>
            <a href="#flights" class="nav-link" onclick="showSection('flights')">
                <i class="fas fa-plane-departure"></i> Flights
            </a>
            <a href="#weather" class="nav-link" onclick="showSection('weather')">
                <i class="fas fa-cloud-sun"></i> Weather
            </a>
            <a href="#profile" class="nav-link" onclick="showSection('profile')">
                <i class="fas fa-user"></i> Profile
            </a>
        </div>
        <div class="nav-user">
            <span id="userWelcome">Welcome, User</span>
            <button onclick="logout()" class="logout-btn">
                <i class="fas fa-sign-out-alt"></i>
            </button>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Dashboard Section -->
        <section id="dashboard" class="content-section active">
            <div class="section-header">
                <h2><i class="fas fa-tachometer-alt"></i> Dashboard Overview</h2>
                <p>Welcome to your airline management dashboard</p>
            </div>

            <!-- Stats Cards -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-plane"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="totalFlights">0</h3>
                        <p>Total Flights</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-clock"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="activeFlights">0</h3>
                        <p>Active Flights</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-exclamation-triangle"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="delayedFlights">0</h3>
                        <p>Delayed Flights</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-ticket-alt"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="totalTickets">0</h3>
                        <p>Total Tickets</p>
                    </div>
                </div>
            </div>

            <!-- Recent Activities -->
            <div class="dashboard-grid">
                <div class="dashboard-card">
                    <div class="card-header">
                        <h3><i class="fas fa-history"></i> Recent Flights</h3>
                    </div>
                    <div class="card-content">
                        <div id="recentFlights" class="activity-list">
                            <div class="loading">Loading recent flights...</div>
                        </div>
                    </div>
                </div>

                <div class="dashboard-card">
                    <div class="card-header">
                        <h3><i class="fas fa-chart-line"></i> Quick Stats</h3>
                    </div>
                    <div class="card-content">
                        <div class="quick-stats">
                            <div class="quick-stat">
                                <span class="stat-label">On Time</span>
                                <span class="stat-value" id="onTimePercent">95%</span>
                            </div>
                            <div class="quick-stat">
                                <span class="stat-label">Capacity</span>
                                <span class="stat-value" id="capacityPercent">78%</span>
                            </div>
                            <div class="quick-stat">
                                <span class="stat-label">Revenue</span>
                                <span class="stat-value" id="totalRevenue">$0</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Flights Section -->
        <section id="flights" class="content-section">
            <div class="section-header">
                <h2><i class="fas fa-plane-departure"></i> Flight Management</h2>
                <button class="btn btn-primary" onclick="showAddFlightModal()">
                    <i class="fas fa-plus"></i> Add New Flight
                </button>
            </div>

            <div class="flights-container">
                <div class="flights-table-container">
                    <table class="flights-table">
                        <thead>
                            <tr>
                                <th>Flight Number</th>
                                <th>Route</th>
                                <th>Departure</th>
                                <th>Arrival</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="flightsTableBody">
                            <tr>
                                <td colspan="6" class="loading">Loading flights...</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Weather Section -->
        <section id="weather" class="content-section">
            <div class="section-header">
                <h2><i class="fas fa-cloud-sun"></i> Weather Information</h2>
                <div class="weather-search">
                    <input type="text" id="citySearch" placeholder="Enter city name...">
                    <button onclick="searchWeather()" class="btn btn-primary">
                        <i class="fas fa-search"></i> Search
                    </button>
                </div>
            </div>

            <div class="weather-container">
                <div class="weather-card" id="weatherCard">
                    <div class="loading">Loading weather data...</div>
                </div>
            </div>
        </section>

        <!-- Profile Section -->
        <section id="profile" class="content-section">
            <div class="section-header">
                <h2><i class="fas fa-user"></i> Profile Settings</h2>
            </div>

            <div class="profile-container">
                <div class="profile-card">
                    <div class="profile-header">
                        <div class="profile-avatar">
                            <i class="fas fa-user-circle"></i>
                        </div>
                        <div class="profile-info">
                            <h3 id="profileName">Loading...</h3>
                            <p id="profileEmail">Loading...</p>
                        </div>
                    </div>

                    <form id="profileForm" class="profile-form">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="profileFirstName">First Name</label>
                                <input type="text" id="profileFirstName" name="firstName" required>
                            </div>
                            <div class="form-group">
                                <label for="profileLastName">Last Name</label>
                                <input type="text" id="profileLastName" name="lastName" required>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="profileDateOfBirth">Date of Birth</label>
                            <input type="date" id="profileDateOfBirth" name="dateOfBirth" required>
                        </div>

                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-save"></i> Update Profile
                        </button>
                    </form>
                </div>

                <div class="activity-card">
                    <div class="card-header">
                        <h3><i class="fas fa-history"></i> Login Activity</h3>
                    </div>
                    <div class="card-content">
                        <div id="loginActivities" class="activity-list">
                            <div class="loading">Loading activities...</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Add Flight Modal -->
    <div id="addFlightModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-plus"></i> Add New Flight</h3>
                <button class="modal-close" onclick="closeAddFlightModal()">&times;</button>
            </div>
            <form id="addFlightForm" class="modal-form">
                <div class="form-row">
                    <div class="form-group">
                        <label for="flightNumber">Flight Number</label>
                        <input type="text" id="flightNumber" name="flightNumber" required>
                    </div>
                    <div class="form-group">
                        <label for="airline">Airline</label>
                        <input type="text" id="airline" name="airline" required>
                    </div>
                </div>

                <div class="form-section">
                    <h4>Origin</h4>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="originCity">City</label>
                            <input type="text" id="originCity" name="origin.city" required>
                        </div>
                        <div class="form-group">
                            <label for="originAirport">Airport</label>
                            <input type="text" id="originAirport" name="origin.airport" required>
                        </div>
                        <div class="form-group">
                            <label for="originCode">Code</label>
                            <input type="text" id="originCode" name="origin.code" required maxlength="3">
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <h4>Destination</h4>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="destinationCity">City</label>
                            <input type="text" id="destinationCity" name="destination.city" required>
                        </div>
                        <div class="form-group">
                            <label for="destinationAirport">Airport</label>
                            <input type="text" id="destinationAirport" name="destination.airport" required>
                        </div>
                        <div class="form-group">
                            <label for="destinationCode">Code</label>
                            <input type="text" id="destinationCode" name="destination.code" required maxlength="3">
                        </div>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="departureTime">Departure Time</label>
                        <input type="datetime-local" id="departureTime" name="departureTime" required>
                    </div>
                    <div class="form-group">
                        <label for="arrivalTime">Arrival Time</label>
                        <input type="datetime-local" id="arrivalTime" name="arrivalTime" required>
                    </div>
                </div>

                <div class="form-section">
                    <h4>Aircraft</h4>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="aircraftModel">Model</label>
                            <input type="text" id="aircraftModel" name="aircraft.model" required>
                        </div>
                        <div class="form-group">
                            <label for="aircraftRegistration">Registration</label>
                            <input type="text" id="aircraftRegistration" name="aircraft.registration" required>
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <h4>Capacity</h4>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="totalCapacity">Total</label>
                            <input type="number" id="totalCapacity" name="capacity.total" required min="1">
                        </div>
                        <div class="form-group">
                            <label for="economyCapacity">Economy</label>
                            <input type="number" id="economyCapacity" name="capacity.economy" required min="1">
                        </div>
                        <div class="form-group">
                            <label for="businessCapacity">Business</label>
                            <input type="number" id="businessCapacity" name="capacity.business" required min="0">
                        </div>
                        <div class="form-group">
                            <label for="firstCapacity">First Class</label>
                            <input type="number" id="firstCapacity" name="capacity.first" min="0" value="0">
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <h4>Pricing</h4>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="economyPrice">Economy Price</label>
                            <input type="number" id="economyPrice" name="price.economy" required min="1" step="0.01">
                        </div>
                        <div class="form-group">
                            <label for="businessPrice">Business Price</label>
                            <input type="number" id="businessPrice" name="price.business" required min="1" step="0.01">
                        </div>
                        <div class="form-group">
                            <label for="firstPrice">First Class Price</label>
                            <input type="number" id="firstPrice" name="price.first" min="0" step="0.01" value="0">
                        </div>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="gate">Gate</label>
                        <input type="text" id="gate" name="gate" placeholder="TBA">
                    </div>
                    <div class="form-group">
                        <label for="terminal">Terminal</label>
                        <input type="text" id="terminal" name="terminal" value="1">
                    </div>
                </div>

                <div class="modal-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeAddFlightModal()">Cancel</button>
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-save"></i> Save Flight
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay">
        <div class="loading-spinner">
            <i class="fas fa-plane fa-spin"></i>
            <p>Loading...</p>
        </div>
    </div>

    <script src="js/dashboard.js"></script>
    <script src="js/flights.js"></script>
    <script src="js/weather.js"></script>
</body>
</html>
